# 3.1 사용자 식별

---

-   MySQL은 다른 DBMS와는 다르게 사용자의 아이디 뿐 아니라 **어느 IP에서 접속하고 있는지도 확인**함.
-   **계정을 언급할때는 아이디와 호스트를 함께 명시**
-   ‘svc_id’@’127.0.0.1’ 만약 이렇게 계정이 등록되어 있다면 로컬호스트가 아닌 다른곳에서는 ‘svc_id’의 접속이 되지않음
-   **‘svc_id’@’192.168.0.10’ (pw: 123)과 ‘svc_id’@’%’ (pw: abc)가 존재**
    -   만약 192.168.0.10로 시도했다면 **‘svc_id’@’192.168.0.10’** 로 접속(작은 범위에서부터 접속 가능)
    -   그 외의 호스트로 시도했다면 **‘svc_id’@’%’** 로 접속
    -   192.168.0.10로 시도할때 비밀번호를 abc로 접속 시도했다면 반려당함.

# 3.2 사용자 계정 관리

---

## 3.2.1 시스템 계정과 일반 계정

-   **SYSTEM_USER에 따라 시스템 계정과 일반 계정을 구분지음**
    -   시스템 계정 → 데이터베이스 서버 관리자(일반 계정을 관리할 수 있음)
    -   일반 계정 → 개발자를 위한 계정
-   다음과 같은 데이터베이스 서버 관리와 중요 작업은 **시스템 계정만 가능**
    -   계정 관리(계정 생성 삭제, 권한 부여 및 제거)
    -   다른 세션(Connection) 또는 그 세션에서 실행중인 쿼리 강제 종료
    -   스토어드 프로그램 생성 시 DEFINER를 타 사용자로 설정
-   MySQL에 내장된 계정이 있는데, 삭제하지 않도록 주의
    -   mysql.sys → 기본 내장된 sys스키마의 객체(뷰, 함수, 프로시저)들의 DEFINER로 사용되는 계정
    -   mysql.session → MySQL플러그인이 서버로 접근할 때 사용되는 계정
    -   mysql.infoschema → infomation_schema에 정의된 뷰의 DEFINER로 사용되는 계정
    -   앞선 3개는 처음부터 잠겨있으므로 고의로 풀지않는 한 보안의 위험은 없음

---

## 3.2.2 계정 생성

-   계정 생성시 가장 많이 사용되는 옵션
    -   **IDENTIFIED WITH** → 인증방식과 비밀번호 설정
        -   ex) IDENTIFIED WITH ‘mysql_native_password’ BY ‘paasword’
    -   **REQUIRE** → SSL/TLS 채널 사용할지 여부
    -   **PASSWORD EXPIRE** → 비밀번호 유효 기간 설정 옵션
    -   **PASSWORD HISTORY** → 한번 사용한 비밀번호는 사용하지 못하게
    -   **PASSWORD REUSE INTERVAL** → 한번 사용한 비밀번호의 재사용 금지기간 설정
    -   **PASSWORD REQUIRE** → 비밀번호 만료시 새로운 비밀번호 설정 옵션
    -   **ACCOUNT LOCK / UNLOCK** → 계정 잠금 기능

---

# 3.3 비밀번호 관리

---

## 3.3.1 고수준 비밀번호

-   비밀번호의 유효기간이나 이력 관리를 통한 재사용 금지 기능 뿐 아닌 비밀번호에 포함하면 안되는 금칙어를 설정할 수 있음

## 3.3.2 이중 비밀번호

-   “이중”은 두번의 암호과정을 거친다는 의미가 아닌, 2개의 비밀번호 중 아무거나 입력해도 통과하는것을 의미
-   데이터베이스 서버는 실행 중인 상태에서 계정 정보를 변경하기 힘들었기에 세컨더리 비밀번호를 설정하는걸 가능케 함
-   프라이머리와 세컨더리로 구분
    -   이중 비밀번호를 설정할때, 이전 비밀번호는 세컨더리로 이전되고, 바뀐 비밀번호가 프라이머리가 됨
    -   프라이머리 비밀번호로 차차 배포 완료
    -   세컨더리 비밀번호는 보안으로 인해 삭제 권고

---

# 3.4 권한 관리

---

-   MySQL 8.0이 되면서 기존의 정적 권한 뿐 아니라 동적 권한도 추가됨
    -   **정적 권한** → 기존 MySQL을 사용하며 썼던 모든것(CREATE, SELECT, CREATE USER 등등)에 대한 권한
    -   **동적 권한** → MySQL 서버가 실행되며 동적으로 생성하는 권한(리소스나 백업, 복제, 서버 관련)
-   권한 부여는 GRANT 명령어를 사용
-   8.0부터는 사용자가 생성되지않았을땐 GRANT 명령어가 오류가 발생함

---

# 3.5 역할(Role)

---

-   권한을 묶어서 역할을 설정할 수 있게 됨.
-   쉽게 개발자와 사용자, 관리자마다 역할을 분리해서 관리할 수 있음
